import{f as D,k as F,r as g,o as c,c as T,a,w as o,e as d,t as M,j,l as H,F as S,m as U,u as l,n as A,g as C,p as $,d as x,i as k,_ as z,q as R,T as q,s as O,v as h,x as f,y as E}from"./index-d4a8af7e.js";import{h as L,C as W,u as I}from"./zh-cn-aa4cfae4.js";//! moment.js locale configuration
//! locale : Spanish (United States) [es-us]
//! author : bustta : https://github.com/bustta
//! author : chrisrodz : https://github.com/chrisrodz
var P="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),G="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),V=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],Y=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;L.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(_,e){return _?/-MMM-/.test(e)?G[_.month()]:P[_.month()]:P},monthsRegex:Y,monthsShortRegex:Y,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:V,longMonthsParse:V,shortMonthsParse:V,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:0,doy:6}});const J={style:{"font-size":"16px"}},K={style:{"font-size":"12px"}},Q=D({__name:"ChatMenu",setup(_){const{t:e}=F();L.locale("zh-cn");const y=t=>(L.locale("es-us"),L(Number(t)).fromNow()),i=W(),r=I(),m=g(0),s=g(""),p=()=>{if(r.getChatting())return;const t=Date.now().toString(),b={id_name:t,title:e("chat.newchat")},v=Math.round(Math.random()*15),u=g({id:2,name:"AI",avatar:"/tou/"+v+".png"});i.addToChatList(b),m.value=i.getListnum()-1,r.setnowchat(t),s.value=t,r.AIimg="/tou/"+v+".png";const w={id:"_"+Math.random().toString(36).substring(2,11),user:u.value,text:e("chat.hello"),timestamp:new Date().getTime()};r.startHistory(w)},n=t=>{if(r.getChatting())return;m.value=t,r.setnowchat(i.getChatid(t).id_name),s.value=i.getChatid(t).id;const b=i.getChatid(t).history;r.setHistory(b),r.chatHistory&&(r.AIimg=r.chatHistory[0].user.avatar)},N=t=>{r.getChatting()||(r.clearHistory(),i.removeChatList(t),i.getListnum()==0?p():t==r.getnowchat()&&n(0))};if(i.getListnum()==0)p();else for(let t=0;t<i.getListnum();t++)i.getChatid(t).id_name==r.getnowchat()&&n(t);return(t,b)=>{const v=A("perfect-scrollbar");return c(),T(S,null,[a(j,{color:"primary",block:"",class:"mb-4 w-full",onClick:p},{default:o(()=>[d(M(t.$t("chat.newchat")),1)]),_:1}),a(v,{ref:"target",id:"chat-m",class:"chat-m"},{default:o(()=>[a(H,{nav:"",class:"mt-2 pa-0",color:"primary"},{default:o(()=>[(c(!0),T(S,null,U(l(i).ids,(u,w)=>(c(),C($,{key:u.id_name,class:"newbtn","active-class":"active-chat",title:y(u.id_name),link:"",active:l(m)===w,onClick:B=>n(w)},{title:o(()=>[a(x,{style:{"background-color":"rgba(255, 255, 255, 0)"}},{title:o(()=>[k("span",J,M(u.title),1)]),subtitle:o(()=>[k("span",K,M(y(u.id_name)),1)]),_:2},1024)]),append:o(()=>[a(j,{variant:"plain",size:"x-small",icon:"mdi-close",onClick:B=>N(u.id_name)},null,8,["onClick"])]),_:2},1032,["title","active","onClick"]))),128))]),_:1})]),_:1},512)],64)}}});const X=z(Q,[["__scopeId","data-v-2b283cda"]]),Z={style:{"padding-top":"32px","padding-left":"5px"}},ee=D({__name:"ChatApp",setup(_){const e=I();e.setserverip("127.0.0.1:65530");const y=g(!0);y.value=e.getSettings();const i=g("");async function r(){const s=await(await fetch("http://127.0.0.1:65530/models",{method:"get",headers:{"Content-Type":"application/json",Authorization:"Bearer 1"}})).json();i.value=s.data[0].id,e.Model=i.value}return r(),(m,s)=>{const p=A("router-view");return c(),C(x,{class:"app-container pa-xl-8 pa-lg-8 pa-md-0 pa-sm-0"},{default:o(()=>[a(R,{border:"none",modelValue:l(e).Sidebar,"onUpdate:modelValue":s[0]||(s[0]=n=>l(e).Sidebar=n),class:"pa-2"},{default:o(()=>[k("div",Z,[a(X)])]),_:1},8,["modelValue"]),a(x,{class:"main"},{default:o(()=>[a(p,null,{default:o(({Component:n})=>[a(q,{name:"fade"},{default:o(()=>[(c(),C(O(n)))]),_:2},1024)]),_:1})]),_:1}),l(e).settings&&l(e).Sidebar?(c(),C(x,{key:0,class:"rr","prepend-icon":"mdi-cog"},{title:o(()=>[d(M(m.$t("chat.settings")),1)]),text:o(()=>[a(h,null,{default:o(()=>[d(" Max Tokens ")]),_:1}),a(f,{modelValue:l(e).Max_Tokens,"onUpdate:modelValue":s[1]||(s[1]=n=>l(e).Max_Tokens=n),color:"primary",min:100,max:8e3,step:100,"thumb-label":"always"},null,8,["modelValue"]),a(h,null,{default:o(()=>[d(" Top P ")]),_:1}),a(f,{modelValue:l(e).TOP_P,"onUpdate:modelValue":s[2]||(s[2]=n=>l(e).TOP_P=n),color:"primary",min:0,max:1,step:.1,"thumb-label":"always"},null,8,["modelValue","step"]),a(h,null,{default:o(()=>[d(" Temperature ")]),_:1}),a(f,{modelValue:l(e).Temperature,"onUpdate:modelValue":s[3]||(s[3]=n=>l(e).Temperature=n),color:"primary",min:0,max:2,step:.1,"thumb-label":"always"},null,8,["modelValue","step"]),a(h,null,{default:o(()=>[d(" Presence Penalty ")]),_:1}),a(f,{modelValue:l(e).Presence,"onUpdate:modelValue":s[4]||(s[4]=n=>l(e).Presence=n),color:"primary",min:0,max:2,step:.1,"thumb-label":"always"},null,8,["modelValue","step"]),a(h,null,{default:o(()=>[d(" Frequency Penalty ")]),_:1}),a(f,{modelValue:l(e).Frequency,"onUpdate:modelValue":s[5]||(s[5]=n=>l(e).Frequency=n),color:"primary",min:0,max:2,step:.1,"thumb-label":"always"},null,8,["modelValue","step"])]),_:1})):E("",!0)]),_:1})}}});const oe=z(ee,[["__scopeId","data-v-b0912590"]]);export{oe as default};
